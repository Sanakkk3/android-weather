# android Weather 学习笔记

设计一个天气预报APP

1. 首页（显示首选城市的天气预报信息，大字体、大图标显示）
2. 详情页（显示未来几天的天气预报和基本信息，如：高温、低温风向等）
3. 设置页，可以管理：增加和删除不同的城市（使用sqlite存储城市名和代码）
       可以添加关注城市（用户进入时加载）
4. 使用对应的天气图标/文字/颜色等元素显示天气预报
5. 可以参考国家气象局天气数据接口或其他的接口
6. 可以根据自己的设计增加更多的功能
7. 需要提供整个可编译和运行的工程
   接口和请求数据参考：  
   https://www.cnblogs.com/dyhao/p/11942563.html  
   http://t.weather.itboy.net/api/weather/city/101280101  
   请求未来15天内天气  
   http://t.weather.itboy.net/api/weather/city/101280101  
   当天基础天气接口  
   http://www.weather.com.cn/data/sk/101280101.html  
   http://www.weather.com.cn/data/cityinfo/101280101.html  

***

参考博客：

1、[ViewPager 详解（一）---基本入门_启舰-CSDN博客_viewpager](https://blog.csdn.net/harvic880925/article/details/38453725)  

2、[fragment中嵌套viewpager，vierpager中有多个fragment，不显示 ..._mybook1122的专栏-CSDN博客_fragment嵌套viewpager](https://blog.csdn.net/mybook1122/article/details/24003343)

3、[Fragment和ViewPager的介绍和使用_方法 (sohu.com)](https://www.sohu.com/a/421658765_100109711)  

4、[ViewPager的使用_汪星没有熊的博客-CSDN博客_viewpager使用](https://blog.csdn.net/weixin_45697390/article/details/104515491)  

5、[Android：ViewPager \ViewPager2 简单介绍 & 使用方法解析_JMW1407的博客-CSDN博客_viewpager2](https://blog.csdn.net/JMW1407/article/details/114273649)  

6、[android之fragment与fragment、activity与activity、fragment与activity之间的通信_代码解释生活-CSDN博客](https://blog.csdn.net/u011146511/article/details/80485362)

![](./tupian/fragment生命周期.png)

Q1：如何在fragment的里面在不触发什么button的情况下，更改控件的信息？

​	最开始想的是使用onAttach()，但是会发现他要和Activity一起生成，就是说要依赖这个Activity，那可不就是百搭嘛？根本就没有解决问题，因为从Activity也是刚刚才启动，信息都是空的，返回来的值也是空。

​	因此目光转向使用onResume()。事实证明也不太可，看7这个链接就知道勒！

7、[关于Fragment中的onResume方法_AndyYuan317的博客-CSDN博客_fragment onresume](https://blog.csdn.net/qq_42618969/article/details/82014498)

8、[android开发：Looper.getMainLooper()_s297165331的专栏-CSDN博客_android getmainlooper](https://blog.csdn.net/s297165331/article/details/56484923)

```java
把
Handler mainHandler = new Handler(getMainLooper());
改成
Handler mainHandler = new Handler(Looper.getMainLooper());
效果大大滴好
```

